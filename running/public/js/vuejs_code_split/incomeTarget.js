(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{887:function(t,e,a){"use strict";a.r(e);var o=a(1),s=a.n(o);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var i={data:function(){var t;return n(t={moment:s.a,loading:!1,incomeTypeLists:[],incomeHeadListByIds:[],incomeHeadLists:[],paidDateText:"",totalAmountText:"",subHeadStatus:0,targetMonthStatus:0,targetDateStatus:0,totalAmountRowStatus:0,incomeCompanyLists:[],datas:[],chartOfAccounts:[],chartOfAccountRegisters:[],incomePurposeLists:[],incomeDetailsLists:[],getInterestTimeTypeLists:[],bankInformationStatus:0,cashInformationStatus:0,bankInformationAccountInfoStatus:0,form:new Form({rendomNumber:Math.random(1,1e3),item:"",itemAmount:"",headOfAccounts:"",voucherType:"",incomeAmount:"",incomeCompany:"",subHead:"",interestTimeType:"",mobileNo:"",email:"",address:"",note:"",cashAmount:"",bankAmount:"",dueAmount:"",branchName:"",accNo:"",paymentType:"",bankTypeEntryId:"",bankEntryId:"",bankAccountId:"",detailsTotalAmount:""}),showBankNames:[],shopBankAllDatas:[],corporateBankAccountTypes:[],mobileBankAccountTypes:[],paymentTypeLists:[],showBankTypeDatas:[]},"showBankNames",[]),n(t,"showBankAccounts",[]),n(t,"bankMoreInfo",[]),n(t,"incomePurposeListViews",[]),n(t,"headOfCashBookLists",[]),n(t,"headOfAccountLists",[]),n(t,"subHeadOfAccountLists",[]),n(t,"invalid",!1),t},mounted:function(){this.getData(),this.incomeTypeList(),this.incomeCompanyList(),this.getincomeHeadList(),this.chartOfAccount(),this.chartOfAccountRegister(),this.incomePurposeListViews(),this.paymentTypeList(),this.showBankType(),this.getInterestTimeTypeList()},methods:{create:function(){var t=this;this.loading=!0,this.form.post("/addIncomeTarget").then((function(e){t.loading=!1,Toast.fire({icon:"success",title:"Entry Successfully"}),t.form.reset(),t.form.rendomNumber=Math.random(1,1e3),t.getData(),t.getincomeDetailsList(0)})).catch((function(e){t.loading=!1,Toast.fire({icon:"error",title:"Something Missing"})}))},getVoucherCode:function(){var t=this;this.form.headOfCashBook="",this.form.headOfAccounts="",this.subHeadStatus=!1,this.form.subHead="",this.headOfCashBookLists=[],this.headOfAccountLists=[];var e="getVoucherCode/"+this.form.voucherType;if(axios.get(e).then((function(e){t.form.voucherNo=e.data.code})),1==this.form.voucherType){this.paymentTo="Pay by",this.headOfCashBookTitle="Head Of Cash Book",this.paymentToStatus=!0,this.bankInfo=!1;var a="getVoucherHeadCashbookCode/"+this.form.voucherType;axios.get(a).then((function(e){t.headOfCashBookLists=e.data.headOfCashBookList,t.headOfAccountLists=e.data.headOfAccountList}))}else if(2==this.form.voucherType){this.paymentTo="Receive by",this.headOfCashBookTitle="Head Of Cash Book",this.paymentToStatus=!0,this.bankInfo=!1;var o="getVoucherHeadCashbookCode/"+this.form.voucherType;axios.get(o).then((function(e){t.headOfCashBookLists=e.data.headOfCashBookList,t.headOfAccountLists=e.data.headOfAccountList}))}else if(3==this.form.voucherType){this.paymentTo="Pay by",this.headOfCashBookTitle="Head Of Bank Book",this.paymentToStatus=!0,this.bankInfo=!0;var s="getVoucherHeadCashbookCode/"+this.form.voucherType;axios.get(s).then((function(e){t.headOfCashBookLists=e.data.headOfCashBookList,t.headOfAccountLists=e.data.headOfAccountList}))}else if(4==this.form.voucherType){this.paymentTo="Receive by",this.headOfCashBookTitle="Head Of Bank Book",this.paymentToStatus=!0,this.bankInfo=!0;var n="getVoucherHeadCashbookCode/"+this.form.voucherType;axios.get(n).then((function(e){t.headOfCashBookLists=e.data.headOfCashBookList,t.headOfAccountLists=e.data.headOfAccountList}))}else if(5==this.form.voucherType){this.paymentTo="Receive by",this.paymentToStatus=!1,this.bankInfo=!1;var i="getVoucherHeadCashbookCode/"+this.form.voucherType;axios.get(i).then((function(e){t.headOfCashBookLists=e.data.headOfCashBookList,t.headOfAccountLists=e.data.headOfAccountList}))}else if(6==this.form.voucherType){this.paymentTo="Receive by",this.paymentToStatus=!1,this.bankInfo=!1;var r="getVoucherHeadCashbookCode/"+this.form.voucherType;axios.get(r).then((function(e){t.headOfCashBookLists=e.data.headOfCashBookList,t.headOfAccountLists=e.data.headOfAccountList}))}},calculate:function(t){t.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.form.incomeAmount?this.invalid=!1:(this.invalid=!0,this.form.incomeAmount="")},getSubHeadOfAccounts:function(){var t=this;this.form.subHead="";var e="getSubHeadOfAccounts/"+this.form.headOfAccounts;axios.get(e).then((function(e){t.subHeadStatus=!0,t.subHeadOfAccountLists=e.data.subHeadList}))},calculateAmount:function(t){if(1==t)this.form.incomeAmount-this.form.cashAmount>=0?this.form.dueAmount=this.form.incomeAmount-this.form.cashAmount:(this.form.dueAmount=0,this.form.cashAmount=this.form.incomeAmount);else if(2==t){this.form.incomeAmount-this.form.bankAmount>=0?this.form.dueAmount=this.form.incomeAmount-this.form.bankAmount:(this.form.dueAmount=0,this.form.bankAmount=this.form.incomeAmount)}},interestTime:function(){3==this.form.interestTimeType?(this.targetMonthStatus=1,this.targetDateStatus=0):5==this.form.interestTimeType?(this.targetMonthStatus=0,this.targetDateStatus=1):(this.targetMonthStatus=0,this.targetDateStatus=0)},paymentTypeList:function(){var t=this;axios.get("/paymentTypeList").then((function(e){t.paymentTypeLists=e.data.data}))},showBankType:function(){var t=this;axios.get("/bankTypeEntryList").then((function(e){t.showBankTypeDatas=e.data.show}))},bankTypeIdCatch:function(){var t=this;axios.get("/bankNameList/"+this.form.bankTypeEntryId).then((function(e){t.showBankNames=e.data.show}))},bankAccountIdCatch:function(){var t=this;axios.get("/bankAccountList/"+this.form.bankEntryId).then((function(e){t.showBankAccounts=e.data.data}))},getBankMoreInfo:function(){var t=this;axios.get("/bankAccountMoreInfo/"+this.form.bankAccountId).then((function(e){t.bankInformationAccountInfoStatus=1,t.form.branchName=e.data.data.bankBranch,t.form.accNo=e.data.data.bankAccountNumber}))},paymentReceiveType:function(){2==this.form.paymentType?(this.bankInformationStatus=1,this.cashInformationStatus=0):1==this.form.paymentType?(this.cashInformationStatus=1,this.bankInformationStatus=0):(this.cashInformationStatus=0,this.bankInformationStatus=0)},incomeTypeList:function(){var t=this;axios.get("incomeTypeList").then((function(e){t.incomeTypeLists=e.data.data}))},getData:function(){var t=this;axios.get("/addIncomeTarget").then((function(e){t.datas=e.data.data}))},incomeCompanyList:function(){var t=this;axios.get("/addIncomeExpenseCompany").then((function(e){t.incomeCompanyLists=e.data.data}))},incomePurposeList:function(){var t=this;axios.get("/getIncomePurposeListById/"+this.form.headOfAccounts).then((function(e){t.incomePurposeLists=e.data.data}))},getAmount:function(){this.form.dueAmount=this.form.incomeAmount},getDetailsData:function(){this.getincomeDetailsList(this.form.subHead)},getincomeDetailsList:function(t){var e=this;axios.get("/getIncomeDetailsListById/"+t).then((function(t){e.incomeDetailsLists=t.data.data,e.form.incomeAmount=t.data.totalAmount,e.form.dueAmount=t.data.totalAmount,e.totalAmountText=t.data.totalAmount,e.totalAmountRowStatus=t.data.totalAmount}))},incomeItemAdd:function(t){var e=this;this.form.item&&this.form.itemAmount?axios.get("/addIncomeDetailsItem/"+this.form.rendomNumber+"/"+this.form.subHead+"/"+this.form.item+"/"+this.form.itemAmount).then((function(t){t.data.status?(Toast.fire({icon:"success",title:"Item Add Successfull"}),e.form.item="",e.form.itemAmount="",e.getincomeDetailsList(e.form.subHead)):Toast.fire({icon:"error",title:"Item Not Add"})})):1==t&&Toast.fire({icon:"error",title:"Please enter your item and value"})},deleteIncomeDetailItem:function(t){var e=this;axios.get("/deleteIncomeDetailsItem/"+t).then((function(t){t.data.status?(Toast.fire({icon:"success",title:"Item Delete Successfull"}),e.form.item="",e.form.itemAmount="",e.getincomeDetailsList(e.form.subHead)):Toast.fire({icon:"error",title:"Item Not Delete"})}))},chartOfAccount:function(){var t=this;axios.get("/chartOfAccount").then((function(e){t.chartOfAccounts=e.data.chartOfAccounts})),axios.get("/getInterestTimeTypeList").then((function(e){t.getInterestTimeTypeLists=e.data.data})),axios.get("/addIncomeProvider/").then((function(e){t.incomePurposeListViews=e.data.data}))},chartOfAccountRegister:function(){var t=this;axios.get("/chartOfAccountRegister").then((function(e){t.chartOfAccountRegisters=e.data.chartOfAccountList}))},getincomeHead:function(){var t=this;axios.get("/getIncomeHeadList/"+this.form.voucherType).then((function(e){t.incomeHeadListByIds=e.data.data}))},getincomeHeadList:function(){var t=this;axios.get("/addIncomeType/").then((function(e){t.incomeHeadLists=e.data.data}))},getIncomeExpenseCompanyInfo:function(){var t=this;axios.get("/getIncomeExpenseCompanyIncome/"+this.form.subHead).then((function(e){t.form.mobileNo=e.data.data.mobileNo,t.form.email=e.data.data.email,t.form.address=e.data.data.address}))},changeStatus:function(t){var e=this;axios.get("/changeStatusTarget/"+t).then((function(t){e.getData()}))},deleteData:function(t){var e=this;axios.delete("/addIncomeTarget/"+t).then((function(t){Toast.fire({icon:"success",title:"Delete Successfull"}),e.getData()}))}}},r=a(0),c=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.create()}}},[a("div",{staticClass:"supplier-entry py-4 px-2 comm-form-back-img"},[a("div",{staticClass:"col-lg-8 px-lg-5 col-sm-8 offset-sm-2 col-12 supplier-border comm-form-box-back-color"},[a("div",{staticClass:"form-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rendomNumber,expression:"form.rendomNumber"}],attrs:{type:"hidden"},domProps:{value:t.form.rendomNumber},on:{input:function(e){e.target.composing||t.$set(t.form,"rendomNumber",e.target.value)}}}),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.voucherType,expression:"form.voucherType"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("voucherType")},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"voucherType",e.target.multiple?a:a[0])},function(e){return t.getVoucherCode()}]}},[a("option",{attrs:{value:""}},[t._v(" Select ")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v(" Income Target ")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v(" Expense Budget ")])]),t._v(" "),a("has-error",{attrs:{form:t.form,field:"voucherType"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[t._m(2),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.headOfAccounts,expression:"form.headOfAccounts"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("headOfAccounts")},attrs:{required:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"headOfAccounts",e.target.multiple?a:a[0])},function(e){return t.getSubHeadOfAccounts()}]}},[a("option",{attrs:{value:""}},[t._v(" ---------------- ")]),t._v(" "),t._l(t.headOfAccountLists,(function(e){return a("option",{domProps:{value:e.headCode}},[t._v(" "+t._s(e.headName)+" ")])}))],2),t._v(" "),a("has-error",{attrs:{form:t.form,field:"headOfAccounts"}})],1),t._v(" "),t.subHeadStatus?a("div",{staticClass:"form-group"},[t._m(3),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.subHead,expression:"form.subHead"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("subHead")},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"subHead",e.target.multiple?a:a[0])},function(e){return t.getLastBalance()}]}},t._l(t.subHeadOfAccountLists,(function(e){return a("option",{domProps:{value:e.headCode}},[t._v(" "+t._s(e.headName)+" ")])})),0),t._v(" "),a("has-error",{attrs:{form:t.form,field:"subHead"}})],1):t._e(),t._v(" "),a("has-error",{attrs:{form:t.form,field:"voucherType"}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"headOfAccounts"}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"subHead"}}),t._v(" "),a("div",{staticClass:"form-group"},[t._m(4),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.interestTimeType,expression:"form.interestTimeType"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("interestTimeType")},attrs:{name:"interestTimeType"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"interestTimeType",e.target.multiple?a:a[0])},function(e){return t.interestTime()}]}},[a("option",{attrs:{value:""}},[t._v("Select One")]),t._v(" "),t._l(t.getInterestTimeTypeLists,(function(e){return a("option",{domProps:{value:e.id}},[t._v(" "+t._s(e.name))])}))],2),t._v(" "),a("has-error",{attrs:{form:t.form,field:"interestTimeType"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v(" From Date ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fromDate,expression:"form.fromDate"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("fromDate")},attrs:{type:"date",name:"fromDate"},domProps:{value:t.form.fromDate},on:{input:function(e){e.target.composing||t.$set(t.form,"fromDate",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"fromDate"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v(" To Date ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.toDate,expression:"form.toDate"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("toDate")},attrs:{type:"date",name:"toDate"},domProps:{value:t.form.toDate},on:{input:function(e){e.target.composing||t.$set(t.form,"toDate",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"toDate"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[t._m(5),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.incomeAmount,expression:"form.incomeAmount"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("incomeAmount")},attrs:{type:"text",min:"0",autocomplete:"off",name:"incomeAmount"},domProps:{value:t.form.incomeAmount},on:{keyup:t.calculate,input:function(e){e.target.composing||t.$set(t.form,"incomeAmount",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"incomeAmount"}}),t._v(" "),t.invalid?a("span",{staticStyle:{color:"red"}},[t._v("Negative And Character Value Not Allowed")]):t._e()],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v(" Note ")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.note,expression:"form.note"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("note")},attrs:{type:"text",name:"note"},domProps:{value:t.form.note},on:{input:function(e){e.target.composing||t.$set(t.form,"note",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"note"}})],1)],1)]),t._v(" "),a("div",{staticClass:"d-block pt-3 pb-4 card-footer overflow-hidden"},[a("div",{staticClass:"col-lg-7 px-lg-5 col-sm-8 offset-sm-2 col-12"},[t._m(6),t._v(" "),a("button",{staticClass:"btn-pill btn-shadow btn-wide fsize-1 btn btn-primary btn-lg float-right",attrs:{type:"submit",disabled:t.loading}},[t.loading?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):a("span",{staticClass:"mr-2 opacity-7"},[a("i",{staticClass:"fa fa-paper-plane"})]),t._v(" "),a("span",{staticClass:"mr-1"},[t._v(" Submit ")])])])])])]),t._v(" "),a("div",{staticClass:"card main-card  element-block-example mt-5"},[t._m(7),t._v(" "),a("div",{staticClass:"table-responsive bg-white"},[a("table",{staticClass:"table table-hover table-bordered mb-0"},[t._m(8),t._v(" "),a("tbody",t._l(t.datas,(function(e,o){return a("tr",[a("td",[t._v(t._s(o+1))]),t._v(" "),a("td",t._l(t.chartOfAccountRegisters,(function(o){return o.headCode==e.subHead?a("span",[t._v(" "+t._s(o.headName)+" ")]):t._e()})),0),t._v(" "),a("td",t._l(t.getInterestTimeTypeLists,(function(o){return e.incomeTargetType==o.id?a("span",{attrs:{value:o.id}},[t._v("\n                      "+t._s(o.name)+" \n                  ")]):t._e()})),0),t._v(" "),a("td",[t._v(" "+t._s(t.moment(e.fromDate).format("DD MMMM YYYY"))+" \n                    "),e.toDate?a("span",[a("br"),t._v(" to "),a("br"),t._v(" "+t._s(t.moment(e.toDate).format("DD MMMM YYYY"))+" ")]):t._e()]),t._v(" "),a("td",[t._v(" "+t._s(e.incomeAmount)+" ")]),t._v(" "),a("td",[t._v(" "+t._s(e.note)+" ")]),t._v(" "),a("td",[1==e.status?a("a",{staticClass:"badge badge-success btn-hover-shine",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeStatus(e.id)}}},[t._v("  Publish ")]):a("a",{staticClass:"badge badge-danger btn-hover-shine",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeStatus(e.id)}}},[t._v("  Unpublish ")])]),t._v(" "),a("td",[a("button",{staticClass:"btn-wide btn-pill btn btn-outline-danger btn-hover-shine",on:{click:function(a){return t.deleteData(e.id)}}},[a("i",{staticClass:" fa fa-trash mr-1"}),t._v(" Delete ")])])])})),0)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header-tab card-header alert-info"},[e("div",{staticClass:"card-header-title font-size-lg text-capitalize font-weight-normal"},[e("i",{staticClass:"header-icon lnr-pencil icon-gradient bg-premium-dark"}),this._v(" "),e("h4",[this._v(" Target & Budget Setup ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v(" Type "),e("i",{staticClass:"fa fa-star text-danger text-10 cursor-pointer",attrs:{title:"Mendatory Field","data-placement":"top","data-toggle":"tooltip","data-original-title":"Mendatory Field"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v(" Head Of Accounts "),e("i",{staticClass:"fa fa-star text-danger text-10 cursor-pointer",attrs:{title:"Mendatory Field","data-placement":"top","data-toggle":"tooltip","data-original-title":"Mendatory Field"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v(" Sub Head  "),e("i",{staticClass:"fa fa-star text-danger text-10 cursor-pointer",attrs:{title:"Mandatory Field","data-placement":"top","data-toggle":"tooltip","data-original-title":"Mendatory Field"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v(" Target Type "),e("i",{staticClass:"fa fa-star text-danger text-10 cursor-pointer",attrs:{title:"Mendatory Field","data-placement":"top","data-toggle":"tooltip","data-original-title":"Mendatory Field"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v(" Target Amount "),e("i",{staticClass:"fa fa-star text-danger text-10 cursor-pointer",attrs:{title:"Mendatory Field","data-placement":"top","data-toggle":"tooltip","data-original-title":"Mendatory Field"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn-pill btn-shadow btn-wide fsize-1 btn btn-outline-danger btn-lg float-left",attrs:{type:"reset"}},[e("span",{staticClass:"mr-2 opacity-7"},[e("i",{staticClass:"fa fa-undo "})]),this._v(" "),e("span",{staticClass:"mr-1"},[this._v(" Clear ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",staticStyle:{background:"rgba(221, 221, 221, 0.20)",border:"1px solid rgba(0, 0, 0, 0.05)"}},[e("h3",{staticStyle:{color:"black"}},[this._v(" Target Or Budget List")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"rgba(242, 242, 242, 0.47)"}},[a("th",[t._v(" SN ")]),t._v(" "),a("th",[t._v(" Head  ")]),t._v(" "),a("th",[t._v(" Type ")]),t._v(" "),a("th",[t._v(" Date ")]),t._v(" "),a("th",[t._v(" Amount ")]),t._v(" "),a("th",[t._v(" Note ")]),t._v(" "),a("th",[t._v(" Status ")]),t._v(" "),a("th",[t._v(" Delete ")])])])}],!1,null,null,null);e.default=c.exports}}]);