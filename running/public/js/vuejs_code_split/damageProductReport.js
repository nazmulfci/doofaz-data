(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{606:function(t,a,r){"use strict";r.r(a);var e=r(5),o=r.n(e),s=r(1),i=r.n(s),l={data:function(){return{productSupplierLists:[],newBrandLists:[],productNameLists:[],resultNotFound:!1,customerStatus:1,srStatus:0,dsrStatus:0,salesCustomerLists:[],requisitionInformations:[],srLists:[],dsrLists:[],moment:i.a,loading:!1,form:new Form({rendomNumber:(new Date).getTime(),productSupplierId:"",brandId:"",productId:"",customerTypeId:"",customerId:"",customerListId:"",srListId:"",srId:"",dsrListId:"",dsrId:"",t_productId:"",t_brandId:"",t_colorId:"",t_sizeId:"",t_tpRate:"",t_purchaseRate:"",t_unitId:"",t_unit:"",t_perPcsQuantity:"",t_carton:"",t_pcs:"",t_priceTypeId:"",t_totalPcs:"",t_totalPrice:"",totalPcs:0,totalAmount:0,OrderRequestDate:i()().format("YYYY-MM-DD")})}},components:{Multiselect:o.a},mounted:function(){this.view(),this.productSupplierList(),this.getSrDsrList(),this.customerType()},methods:{totalCalculate:function(t){var a=parseFloat($("#productId-"+t).val()),r=parseFloat($("#brandId-"+t).val()),e=parseFloat($("#colorId-"+t).val()),o=parseFloat($("#sizeId-"+t).val()),s=parseFloat($("#unitId-"+t).val()),i=parseFloat($("#priceTypeId-"+t).val()),l=$("#tpRate-"+t).val(),c=$("#purchaseRate-"+t).val(),d=parseFloat($("#pcsQuantity-"+t).val()),n=parseFloat($("#carton-"+t).val()),p=parseFloat($("#pcs-"+t).val()),u=parseFloat($("#availableStock-"+t).val()),m=$("#unit-"+t).val(),h=0,f=0,v=0;if(p>0&&(h=p),n>0)var _=n;else _=0;this.form.t_productId=a,this.form.t_brandId=r,this.form.t_colorId=e,this.form.t_sizeId=o,this.form.t_tpRate=l,this.form.t_purchaseRate=c,this.form.t_priceTypeId=i,this.form.t_unitId=s,this.form.t_unit=m,this.form.t_perPcsQuantity=d,this.form.t_carton=_,this.form.t_pcs=h;var I=d*_+h;I>u?(Toast.fire({icon:"error",title:"Invalid Stock. available stock "+u+" "+m}),$("#carton-"+t).val(""),$("#total-"+t).val(""),$("#totalText-"+t).html(""),$("#totalPriceText-"+t).html(""),$("#totalPrice-"+t).val("")):(v=parseFloat(I*l).toFixed(2),f=I,$("#total-"+t).val(I),$("#totalText-"+t).html(I+" "+m),$("#totalPriceText-"+t).html(v),$("#totalPrice-"+t).val(v)),this.form.t_totalPcs=f,this.form.t_totalPrice=v},totalCalculate1:function(t){var a=parseFloat($("#productId-"+t).val()),r=parseFloat($("#brandId-"+t).val()),e=parseFloat($("#colorId-"+t).val()),o=parseFloat($("#sizeId-"+t).val()),s=parseFloat($("#unitId-"+t).val()),i=parseFloat($("#priceTypeId-"+t).val()),l=parseFloat($("#tpRate-"+t).val()),c=parseFloat($("#purchaseRate-"+t).val()),d=parseFloat($("#pcsQuantity-"+t).val()),n=parseFloat($("#carton-"+t).val()),p=parseFloat($("#pcs-"+t).val()),u=parseFloat($("#availableStock-"+t).val()),m=$("#unit-"+t).val();if(n>0)var h=n;else h=0;if(this.form.t_productId=a,this.form.t_brandId=r,this.form.t_colorId=e,this.form.t_sizeId=o,this.form.t_tpRate=l,this.form.t_purchaseRate=c,this.form.t_unitId=s,this.form.t_priceTypeId=i,this.form.t_unit=m,this.form.t_perPcsQuantity=d,this.form.t_carton=h,this.form.t_pcs=p,h>0)var f=d*h;else f=0;var v=f+p;if(v>u)Toast.fire({icon:"error",title:"Invalid Stock. available stock "+u+" "+m}),$("#carton-"+t).val(""),$("#pcs-"+t).val(""),$("#total-"+t).val(""),$("#totalText-"+t).html(""),$("#totalPriceText-"+t).html(""),$("#totalPrice-"+t).val("");else if(d>p){var _=v,I=parseFloat(v*l).toFixed(2);$("#total-"+t).val(v),$("#totalText-"+t).html(v+" "+m),$("#totalPriceText-"+t).html(I),$("#totalPrice-"+t).val(I)}else{_=f,I=parseFloat(f*l).toFixed(2);$("#pcs-"+t).val(""),$("#total-"+t).val(f),$("#totalText-"+t).html(f+" "+m),$("#totalPriceText-"+t).html(I),$("#totalPrice-"+t).val(I),Toast.fire({icon:"error",title:"Sorry..."})}this.form.t_totalPcs=_,this.form.t_totalPrice=I},customerIdCatch:function(t){this.form.customerId=t.salesCustomerEntryId},selectSr:function(t){this.form.srId=t.shopEmployeeEntryId},selectDsr:function(t){this.form.dsrId=t.shopEmployeeEntryId},customerType:function(){var t=this;axios.get("/shopPriceCustomerType").then((function(a){t.form.customerTypeId=a.data.customerType,t.customerTypeIdCatch()}))},customerTypeIdCatch:function(){var t=this;axios.get("/customerTypeIdCatch/"+this.form.customerTypeId).then((function(a){t.salesCustomerLists=a.data.salesCustomerLists}))},view:function(){var t=this;axios.get("/saleOrderRequestList").then((function(a){t.requisitionInformations=a.data.data}))},salesCustomerName:function(t){var a=t.customerName,r=t.customerPhone;return"".concat(a," — ").concat(r)},customLabelSr:function(t){var a=t.fullName,r=t.phoneNumber;return"".concat(a," — ").concat(r)},customLabel:function(t){var a=t.fullName,r=t.phoneNumber;return"".concat(a," — ").concat(r)},productListShows:function(){var t=this;axios.get("/productName").then((function(a){t.productNameLists=a.data.productNameList}))},ShowDataLists:function(){var t=this;axios.get("/productBrandListPurchase").then((function(a){t.newBrandLists=a.data.shopProductBrandList}))},productSupplierList:function(){var t=this;axios.get("/shopWishProductSupplier").then((function(a){t.productSupplierLists=a.data.productSupplierList}))},productSupplierId:function(t){var a=this;this.form.productSupplierId=t.productSupplierId,axios.get("/supplierWiseDamageList/"+t.productSupplierId).then((function(t){a.newBrandLists=t.data.brandList,a.productNameLists=t.data.productList,a.form.totalPcs=t.data.tDam,a.form.totalAmount=t.data.tDamAmount}))},selectBrandId:function(t){var a=this;this.form.brandId=t.productBrandEntryId,axios.get("/brandWiseDamageList/"+this.form.productSupplierId+"/"+t.productBrandEntryId).then((function(t){a.productNameLists=t.data.productList,a.form.totalAmount=t.data.tDam}))},getSrDsrList:function(){var t=this;axios.get("/getSrDsrList").then((function(a){t.srLists=a.data.srList,t.dsrLists=a.data.dsrList}))},changeData:function(){var t=this;$(".carton").prop("disabled",!0),$(".pcs").prop("disabled",!0);this.form.post("saleOrderRequest").then((function(a){$(".carton").prop("disabled",!1),$(".pcs").prop("disabled",!1),t.form.totalAmount=a.data.tDam})).catch((function(t){$(".carton").prop("disabled",!1),$(".pcs").prop("disabled",!1)}))},orderSubmit:function(){var t=this;this.loading=!0;this.form.post("saleOrderSubmit").then((function(a){Toast.fire({icon:"success",title:"Order Submit Successful."}),t.form.productSupplierListId="",t.form.brandListId="",t.productNameLists=[],t.view(),t.form.reset(),t.form.rendomNumber=(new Date).getTime(),t.form.OrderRequestDate=i()().format("YYYY-MM-DD"),t.loading=!1})).catch((function(a){t.loading=!1,Toast.fire({icon:"error",title:"Something Missing"})}))}}},c=r(0),d=Object(c.a)(l,(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("span",[r("div",{staticClass:"card"},[t._m(0),t._v(" "),r("div",{staticClass:"supplier-entry py-4 px-2"},[r("div",{staticClass:"card-body table-responsive bg-white"},[r("table",{staticClass:"table table-hover table-striped table-bordered",staticStyle:{width:"100%"},attrs:{id:"example"}},[r("thead",[r("tr",[r("th",{staticClass:"text-center",attrs:{colspan:"12"}},[r("center",[r("form",{attrs:{method:""}},[r("table",{},[r("tr",[r("td",[r("multiselect",{staticClass:"form-control",class:{"is-invalid":t.form.errors.has("productSupplierId")},staticStyle:{padding:"0px !important","padding-bottom":"3px !important"},attrs:{label:"productSupplierName",placeholder:"Select Supplier",options:t.productSupplierLists,"show-labels":!1},on:{input:t.productSupplierId},model:{value:t.form.productSupplierListId,callback:function(a){t.$set(t.form,"productSupplierListId",a)},expression:"form.productSupplierListId"}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"productSupplierId"}})],1)])])])])],1)])])]),t._v(" "),r("table",{staticClass:"table table-bordered table-striped table-hover"},[t._m(1),t._v(" "),r("tbody",[t._l(t.productNameLists,(function(a,e){return r("tr",[r("td",[t._v(t._s(++e))]),t._v(" "),r("td",[t._v(t._s(a.productName)+"  ")]),t._v(" "),r("td",[t._v(" "+t._s(parseFloat(a.tpRate).toFixed(3))+" ")]),t._v(" "),r("td",[t._v(" "+t._s(a.carton)+" "+t._s(a.unit)+" ")]),t._v(" "),r("td",[t._v(" "+t._s(a.damageStock)+" ")]),t._v(" "),r("td",[t._v(" "+t._s(a.damageAmount)+" ")])])})),t._v(" "),r("tr",[r("th",{staticClass:"text-right",attrs:{colspan:"4"}},[t._v("  Total")]),t._v(" "),r("th",[t._v("  "+t._s(t.form.totalPcs))]),t._v(" "),r("th",[t._v("  "+t._s(t.form.totalAmount))])])],2)])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header-tab card-header alert-info"},[a("h4",[a("i",{staticClass:"header-icon lnr-laptop-phone icon-gradient bg-premium-dark"}),this._v("\n          Damage Product Report ")])])},function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("thead",[r("tr",[r("th",[t._v("SL")]),t._v(" "),r("th",[t._v("Product Name")]),t._v(" "),r("th",[t._v("T.P Rate")]),t._v(" "),r("th",[t._v(" Carton or Cais ")]),t._v(" "),r("th",[t._v(" Damaged ")]),t._v(" "),r("th",[t._v(" Amount ")])])])}],!1,null,null,null);a.default=d.exports}}]);