(window.webpackJsonp=window.webpackJsonp||[]).push([[346],{534:function(t,e,i){"use strict";i.r(e);var a={data:function(){return{loading:!1,form:new Form({purchaseProductId:"",productNameId:"",productId:"",unitPrice:"",mrpPrice:"",salesPrice:"",wholesalePrice:"",specialPrice:"",eCommercePrice:""}),negative:!1,negative1:!1,negative2:!1,negative3:!1,negative4:!1,priceType:"",priceTypeId:"",priceSetupId:"",view:"",purchaseProductLists:[],adv_sales_priceLists:[],unitNameShows:[]}},mounted:function(){this.salesProductNameList(),this.salesProductPriceInfo(),this.unitNameShow()},methods:{changeSalesUnitPrice:function(t,e){var i=this,a=($("#quantity-"+t).val(),$("#price-"+t).val());axios.get("/advanceUnitSalesPriceUpdateType/"+t+"/"+a+"/"+e+"/"+this.priceSetupId).then((function(t){i.adv_sales_priceLists=t.data.info,1==e?i.form.salesPrice=t.data.firstPrice:2==e?i.form.mrpPrice=t.data.firstPrice:3==e?i.form.wholesalePrice=t.data.firstPrice:4==e?i.form.specialPrice=t.data.firstPrice:5==e&&(i.form.eCommercePrice=t.data.firstPrice)}))},showAdvanceUnitSetupSales:function(t,e,i){var a=this;this.adv_sales_priceLists=[],this.priceType="",this.priceTypeId="",this.priceSetupId="",axios.get("/advanceUnitSetupCheck/"+t).then((function(s){0==s.data.have||($("#exampleModal").modal("show"),axios.get("/advanceUnitSetupByPriceType/"+t+"/"+e+"/"+i).then((function(t){a.adv_sales_priceLists=t.data.data,a.priceType=t.data.priceType,a.priceTypeId=e,a.priceSetupId=i,1==e?a.form.salesPrice=t.data.unitPrice:2==e?a.form.mrpPrice=t.data.unitPrice:3==e?a.form.wholesalePrice=t.data.unitPrice:4==e?a.form.specialPrice=t.data.unitPrice:5==e&&(a.form.eCommercePrice=t.data.unitPrice)})))}))},unitNameShow:function(){var t=this;axios.get("/unitNameShow").then((function(e){t.unitNameShows=e.data.unitNameShow}))},salesProductNameList:function(){var t=this;axios.get("/salesProductNameShow").then((function(e){t.purchaseProductLists=e.data.purchaseProductLists}))},mrp:function(t){t.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.form.mrpPrice?(this.form.mrpPrice<0?(this.negative=!0,this.form.mrpPrice=""):this.negative=!1,this.negative=!1):(this.negative=!0,this.form.mrpPrice="")},sales:function(t){t.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.form.salesPrice?(this.form.salesPrice<0?(this.negative1=!0,this.form.salesPrice=1):this.negative1=!1,this.negative1=!1):(this.negative1=!0,this.form.salesPrice="")},wholesale:function(t){t.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.form.wholesalePrice?(this.form.wholesalePrice<0?(this.negative2=!0,this.form.wholesalePrice=""):this.negative2=!1,this.negative2=!1):(this.negative2=!0,this.form.wholesalePrice="")},special:function(t){t.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.form.specialPrice?(this.form.specialPrice<0?(this.negative3=!0,this.form.specialPrice=""):this.negative3=!1,this.negative3=!1):(this.negative3=!0,this.form.specialPrice="")},ecommerce:function(t){t.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.form.eCommercePrice?(this.form.eCommercePrice<0?(this.negative4=!0,this.form.eCommercePrice=""):this.negative4=!1,this.negative4=!1):(this.negative4=!0,this.form.eCommercePrice="")},salesProductPriceInfo:function(){var t=this;axios.get("/salesProductPriceEntry/"+this.$route.params.salesProductPriceEntryId+"/edit").then((function(e){t.form.fill(e.data.getData),t.view=e.data.getData,t.productIdCatch()}))},productIdCatch:function(){var t=this;axios.get("/productUnitePrice/"+this.form.purchaseProductId).then((function(e){e.data.productUnitePrice&&(t.form.unitPrice=e.data.productUnitePrice.unitPrice,t.form.productNameId=e.data.productUnitePrice.product_name.productName,t.form.productId=e.data.productUnitePrice.productId)}))},productPriceUpdate:function(){var t=this;this.loading=!0,this.form.put("/salesProductPriceEntry/"+this.$route.params.salesProductPriceEntryId).then((function(e){t.loading=!1,e.data.alReadyEntry?Toast.fire({icon:"error",title:"Already Sales Product Price Entry"}):(Toast.fire({icon:"success",title:"Sales Product Price Update SuccessFully"}),t.$router.push("/priceupdate"))})).catch((function(e){t.loading=!1,Toast.fire({icon:"error",title:"Something Missing"})}))}}},s=i(0),r=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("div",{staticClass:"card"},[t._m(0),t._v(" "),i("form",{on:{submit:function(e){return e.preventDefault(),t.productPriceUpdate()}}},[i("div",{staticClass:"py-4 px-2"},[i("div",{staticClass:"offset-sm-1 col-9 pl-sm-5 supplier-border"},[i("div",{staticClass:"form-row"},[t._m(1),t._v(" "),i("div",{staticClass:"col-sm-8 col-12"},[t.view.product_name?i("input",{staticClass:"form-control",class:{"is-invalid":t.form.errors.has("productNameId")},attrs:{type:"text",disabled:"",name:"productNameId",placeholder:"Product Name"},domProps:{value:t.view.product_name.productName}}):t._e(),t._v(" "),i("has-error",{attrs:{form:t.form,field:"productNameId"}})],1)]),t._v(" "),i("div",{staticClass:"form-row pt-3"},[t._m(2),t._v(" "),i("div",{staticClass:"col-sm-8 col-12"},[t.view.brand?i("input",{staticClass:"form-control",class:{"is-invalid":t.form.errors.has("unitPrice")},attrs:{type:"text",disabled:"",name:"unitPrice",placeholder:"Purchase Unit Price"},domProps:{value:t.view.brand.unitPrice}}):t._e(),t._v(" "),i("has-error",{attrs:{form:t.form,field:"unitPrice"}})],1)]),t._v(" "),i("div",{staticClass:"form-row pt-3"},[t._m(3),t._v(" "),i("div",{staticClass:"col-sm-8 col-12"},[t.negative?i("span",{staticStyle:{color:"red"}},[t._v("Negative Value Not Allowed")]):t._e(),t._v(" "),i("div",{staticClass:"form-control",attrs:{type:"text",name:"mrpPrice",placeholder:"MRP Price"},on:{click:function(e){return t.showAdvanceUnitSetupSales(t.view.productId,2,t.view.salesProductPriceEntryId)},keyup:[t.mrp,function(e){return e.preventDefault(),t.inputValueCheck()}]}},[t._v(t._s(t.form.mrpPrice))]),t._v(" "),i("has-error",{attrs:{form:t.form,field:"mrpPrice"}})],1)]),t._v(" "),i("div",{staticClass:"form-row pt-3"},[t._m(4),t._v(" "),i("div",{staticClass:"col-sm-8 col-12"},[t.negative1?i("span",{staticStyle:{color:"red"}},[t._v("Negative Value Not Allowed")]):t._e(),t._v(" "),i("div",{staticClass:"form-control",attrs:{type:"text",name:"salesPrice",placeholder:"Sales Price"},on:{click:function(e){return t.showAdvanceUnitSetupSales(t.view.productId,1,t.view.salesProductPriceEntryId)},keyup:[t.sales,function(e){return e.preventDefault(),t.inputValueCheck()}]}},[t._v(" "+t._s(t.form.salesPrice)+" ")]),t._v(" "),i("has-error",{attrs:{form:t.form,field:"salesPrice"}})],1)]),t._v(" "),i("div",{staticClass:"form-row pt-3"},[t._m(5),t._v(" "),i("div",{staticClass:"col-sm-8 col-12"},[t.negative2?i("span",{staticStyle:{color:"red"}},[t._v("Negative Value Not Allowed")]):t._e(),t._v(" "),i("div",{staticClass:"form-control",attrs:{type:"text",name:"wholesalePrice",placeholder:"Whole sale Price"},on:{click:function(e){return t.showAdvanceUnitSetupSales(t.view.productId,3,t.view.salesProductPriceEntryId)},keyup:[t.wholesale,function(e){return e.preventDefault(),t.inputValueCheck()}]}},[t._v(t._s(t.form.wholesalePrice))])])]),t._v(" "),i("div",{staticClass:"form-row pt-3"},[t._m(6),t._v(" "),i("div",{staticClass:"col-sm-8 col-12"},[t.negative3?i("span",{staticStyle:{color:"red"}},[t._v("Negative Value Not Allowed")]):t._e(),t._v(" "),i("div",{staticClass:"form-control",attrs:{type:"text",name:"specialPrice",placeholder:"Special Price"},on:{click:function(e){return t.showAdvanceUnitSetupSales(t.view.productId,4,t.view.salesProductPriceEntryId)},keyup:[t.special,function(e){return e.preventDefault(),t.inputValueCheck()}]}},[t._v(t._s(t.form.specialPrice))]),t._v(" "),i("has-error",{attrs:{form:t.form,field:"specialPrice"}})],1)]),t._v(" "),i("div",{staticClass:"form-row pt-3"},[t._m(7),t._v(" "),i("div",{staticClass:"col-sm-8 col-12"},[t.negative4?i("span",{staticStyle:{color:"red"}},[t._v("Negative Value Not Allowed")]):t._e(),t._v(" "),i("div",{staticClass:"form-control",attrs:{type:"text",name:"eCommercePrice",placeholder:"E-Commerce Price"},on:{click:function(e){return t.showAdvanceUnitSetupSales(t.view.productId,5,t.view.salesProductPriceEntryId)},keyup:[t.ecommerce,function(e){return e.preventDefault(),t.inputValueCheck()}]}},[t._v(t._s(t.form.eCommercePrice))]),t._v(" "),i("has-error",{attrs:{form:t.form,field:"eCommercePrice"}})],1)]),t._v(" "),i("div",{staticClass:"col-11 text-right pr-0 pt-3"},[i("button",{staticClass:"btn-pill btn-hover-shine btn btn-primary",attrs:{type:"submit",disabled:t.loading}},[t.loading?i("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):i("span",{staticClass:"mr-2 opacity-7"},[i("i",{staticClass:"fa fa-paper-plane"})]),t._v("Update")])])])])])]),t._v(" "),i("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" "+t._s(t.priceType)+" ")]),t._v(" "),t._m(8)]),t._v(" "),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"table-responsive alert-success"},[i("table",{staticClass:"table table-bordered"},[i("tbody",[t._m(9),t._v(" "),t._l(t.adv_sales_priceLists,(function(e){return i("tr",[i("td",[t._v(" "+t._s(e.totalQuantity)+" \n                             "),i("input",{staticClass:"form-control",attrs:{id:"quantity-"+e.id,type:"hidden"},domProps:{value:e.totalQuantity}})]),t._v(" "),i("td",t._l(t.unitNameShows,(function(a){return a.uniteEntryId==e.totalUnitId?i("span",{attrs:{value:a.uniteEntryId}},[t._v("\n                                    "+t._s(a.uniteEntryName)+"\n                                  ")]):t._e()})),0),t._v(" "),i("td",[i("input",{staticClass:"form-control",staticStyle:{width:"200px"},attrs:{step:"0.00",id:"price-"+e.id,min:e.salesUnitPrice,type:"number",placeholder:e.salesUnitPriceShow},domProps:{value:e.salesUnitPrice},on:{change:function(i){return t.changeSalesUnitPrice(e.id,t.priceTypeId)}}})]),t._v(" "),i("td",{attrs:{id:"totalPrice-"+e.id}},[t._v(" "+t._s(e.salesTotalPrice))])])}))],2)])])]),t._v(" "),t._m(10)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",staticStyle:{background:"rgba(221, 221, 221, 0.20)",border:"1px solid rgba(0, 0, 0, 0.05)"}},[e("h3",{staticStyle:{color:"black"}},[this._v("Sales Product Price Update ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3 col-6 mt-2"},[e("label",{staticClass:"p-0"},[this._v(" Product Name ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3 col-6 mt-2"},[e("label",{staticClass:"p-0"},[this._v("Purchase Unit Price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3 col-6 mt-2"},[e("label",{staticClass:"p-0"},[this._v("MRP Price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3 col-6 mt-2"},[e("label",{staticClass:"p-0"},[this._v("Sales Price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3 col-6 mt-2"},[e("label",{staticClass:"p-0"},[this._v("Wholesale Price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3 col-6 mt-2"},[e("label",{staticClass:"p-0"},[this._v("Special Price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3 col-6 mt-2"},[e("label",{staticClass:"p-0"},[this._v("E-Commerce Price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v(" Quantity  ")]),this._v(" "),e("th",[this._v(" Unit  ")]),this._v(" "),e("th",[this._v(" Unit Price  ")]),this._v(" "),e("th",[this._v(" Total Price  ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")]),this._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[this._v(" Done ")])])}],!1,null,null,null);e.default=r.exports}}]);