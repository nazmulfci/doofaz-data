(window.webpackJsonp=window.webpackJsonp||[]).push([[513],{600:function(t,a,e){"use strict";e.r(a);var s=e(5),r=e.n(s),o=e(1),i=e.n(o),n={data:function(){return{productSupplierLists:[],newBrandLists:[],productNameLists:[],resultNotFound:!1,customerStatus:1,srStatus:1,dsrStatus:1,salesCustomerLists:[],requisitionInformation:[],srLists:[],dsrLists:[],gets:[],moment:i.a,loading:!1,form:new Form({OrderApproveDate:i()().format("YYYY-MM-DD"),salesRequestId:""})}},components:{Multiselect:r.a},mounted:function(){this.getInvoiceSetupInformation(),this.getDataForShow(),this.getSrDsrList(),this.customerType()},methods:{getInvoiceSetupInformation:function(){var t=this;axios.get("getInvoiceSetupInformation/3").then((function(a){t.gets=a.data.data}))},getDataForShow:function(){var t=this;this.form.salesRequestId=this.$route.params.id,axios.get("/saleOrderFinalListById/"+this.$route.params.id).then((function(a){t.requisitionInformation=a.data.data,t.form.productSupplierId=a.data.data.supplierId,t.form.customerId=a.data.data.customerId,t.reqProductList(a.data.data.rendomNumber)}))},totalCalculate:function(t){var a=$("#rendomNumber-"+t).val(),e=(parseFloat($("#productId-"+t).val()),parseFloat($("#brandId-"+t).val()),parseFloat($("#unitId-"+t).val()),parseFloat($("#tpRate-"+t).val())),s=parseFloat($("#reqQnt-"+t).val()),r=(parseFloat($("#reqPrice-"+t).val()),parseFloat($("#carton-"+t).val())),o=parseFloat($("#pcs-"+t).val()),i=$("#unit-"+t).val(),n=0,l=0;if(o>0&&(n=o),(r=r>0?r:0)>0){var c=r+n,u=s-(l=c),d=parseFloat(e*u).toFixed(2);$("#total-"+t).val(c),$("#totalText-"+t).html(c+" "+i),$("#totalSaleText-"+t).html(u),$("#totalSale-"+t).val(u),$("#totalSalePriceText-"+t).html(d),$("#totalSalePrice-"+t).val(d)}else $("#total-"+t).val(""),$("#totalText-"+t).html(""),$("#totalPriceText-"+t).html(""),$("#totalPrice-"+t).val("");this.form.t_id=t,this.form.rendomNumber=a,this.form.t_carton=r,this.form.t_pcs=n,this.form.t_returnQuantity=l,this.form.t_saleQuantity=u,this.form.t_totalPrice=d,this.form.totalSalesAmount=d},totalCalculate1:function(t){var a=$("#rendomNumber-"+t).val(),e=(parseFloat($("#productId-"+t).val()),parseFloat($("#brandId-"+t).val()),parseFloat($("#unitId-"+t).val()),parseFloat($("#tpRate-"+t).val())),s=parseFloat($("#reqQnt-"+t).val()),r=(parseFloat($("#reqPrice-"+t).val()),parseFloat($("#carton-"+t).val())),o=parseFloat($("#pcs-"+t).val()),i=$("#unit-"+t).val();if(o>0){var n=(u=r)+o,l=s-(v=n),c=parseFloat(e*l).toFixed(2);$("#total-"+t).val(n),$("#totalText-"+t).html(n+" "+i),$("#totalSaleText-"+t).html(l),$("#totalSale-"+t).val(l),$("#totalSalePriceText-"+t).html(c),$("#totalSalePrice-"+t).val(c)}else{var u=fixedPcs*r,d=parseFloat(u*e).toFixed(2),v=u;$("#total-"+t).val(u),$("#totalText-"+t).html(u+" "+i),$("#totalPriceText-"+t).html(d),$("#totalPrice-"+t).val(d)}this.form.t_id=t,this.form.rendomNumber=a,this.form.t_carton=r,this.form.t_pcs=o,this.form.t_returnQuantity=v,this.form.t_saleQuantity=l,this.form.t_totalPrice=c,this.form.totalSalesAmount=c},customerIdCatch:function(t){this.form.customerId=t.salesCustomerEntryId},selectSr:function(t){this.form.srId=t.shopEmployeeEntryId},selectDsr:function(t){this.form.dsrId=t.shopEmployeeEntryId},customerType:function(){var t=this;axios.get("/shopPriceCustomerType").then((function(a){t.form.customerTypeId=a.data.customerType,t.customerTypeIdCatch()}))},customerTypeIdCatch:function(){var t=this;axios.get("/customerTypeIdCatch/"+this.form.customerTypeId).then((function(a){t.salesCustomerLists=a.data.salesCustomerLists}))},salesCustomerName:function(t){var a=t.customerName,e=t.customerPhone;return"".concat(a," — ").concat(e)},customLabelSr:function(t){var a=t.fullName,e=t.phoneNumber;return"".concat(a," — ").concat(e)},customLabel:function(t){var a=t.fullName,e=t.phoneNumber;return"".concat(a," — ").concat(e)},productListShows:function(){var t=this;axios.get("/productName").then((function(a){t.productNameLists=a.data.productNameList}))},ShowDataLists:function(){var t=this;axios.get("/productBrandListPurchase").then((function(a){t.newBrandLists=a.data.shopProductBrandList}))},productSupplierList:function(){var t=this;axios.get("/shopWishProductSupplier").then((function(a){t.productSupplierLists=a.data.productSupplierList}))},reqProductList:function(t){var a=this;axios.get("/requisitionProductList/"+t).then((function(t){a.productNameLists=t.data.productList}))},getSrDsrList:function(){var t=this;axios.get("/getSrDsrList").then((function(a){t.srLists=a.data.srList,t.dsrLists=a.data.dsrList}))},changeData:function(){var t=this;$(".carton").prop("disabled",!0),$(".pcs").prop("disabled",!0);this.form.post("orderReceiveRequest").then((function(a){t.form.totalSalesAmount=a.data.total,$(".carton").prop("disabled",!1),$(".pcs").prop("disabled",!1)})).catch((function(t){$(".carton").prop("disabled",!1),$(".pcs").prop("disabled",!1)}))},orderSubmit:function(){var t=this;this.loading=!0;var a="salesProductEntryDealerApprove/"+this.form.salesRequestId;axios.get(a).then((function(a){Toast.fire({icon:"success",title:"Order Submit Successful."}),t.$router.push("/order@final@list"),t.loading=!1})).catch((function(a){t.loading=!1,Toast.fire({icon:"error",title:"Something Missing"})}))}}},l=e(0),c=Object(l.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("div",{staticClass:"card"},[t._m(0),t._v(" "),e("div",{staticClass:"supplier-entry py-4 px-2"},[t._m(1),t._v(" "),e("div",{staticClass:"card-body table-responsive bg-white",attrs:{id:"salesReport"}},[e("table",{staticClass:"table table-hover table-striped table-bordered",staticStyle:{width:"100%"},attrs:{id:"example"}},[e("tr",[e("th",{staticClass:"text-center",attrs:{colspan:"3"}},[t._v(" "+t._s(t.gets.companyName)+" ")])]),t._v(" "),e("tr",[e("td",{staticStyle:{width:"325px"}},[t._v(" DSR : "),t.requisitionInformation.customer?e("span",[t._v(t._s(t.requisitionInformation.customer.customerName))]):t._e()]),t._v(" "),e("td",{staticClass:"text-center",staticStyle:{width:"400px"}},[t.requisitionInformation.supplier?e("span",[t._v(" "+t._s(t.requisitionInformation.supplier.productSupplierName))]):t._e()]),t._v(" "),e("td",{staticStyle:{width:"150px"}},[t._v(" "+t._s(t.moment(t.requisitionInformation.OrderRequestDate).format("DD MMMM YYYY"))+" ")])]),t._v(" "),t._m(2)]),t._v(" "),e("table",{staticClass:"table table-bordered table-striped table-hover"},[t._m(3),t._v(" "),e("tbody",[t._l(t.productNameLists,(function(a,s){return e("tr",[e("td",[t._v(t._s(++s))]),t._v(" "),e("td",[t._v(t._s(a.productName)+"  ")]),t._v(" "),e("td",[t._v(" "+t._s(parseFloat(a.tpRate).toFixed(2))+" ")]),t._v(" "),e("td",[t._v(t._s(a.perCarton)+"  "+t._s(a.perCartonUnitName)+"  ")]),t._v(" "),e("td",[t._v(t._s(a.cartonRequest)+" ")]),t._v(" "),e("td",[t._v(t._s(a.pieceRequest)+" ")]),t._v(" "),e("td",[t._v(t._s(a.totalPieceRequest)+"  "+t._s(a.perCartonUnitName)+" ")]),t._v(" "),e("td",[t._v(t._s(a.totalPriceRequest)+" Tk ")]),t._v(" "),e("td",[t._v(t._s(a.totalPieceGood)+"  ")]),t._v(" "),e("td",[t._v(t._s(a.totalPieceDamage)+"  ")]),t._v(" "),e("td",[t._v(t._s(a.totalPieceReturn)+"  ")]),t._v(" "),e("td",[t._v(t._s(a.totalPieceSale)+"  ")]),t._v(" "),e("td",[t._v(t._s(a.totalPriceSale)+"  ")])])})),t._v(" "),t._m(4),t._v(" "),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"12"}},[t._v(" Total Sale Amount ")]),t._v(" "),e("td",[t._v(" "+t._s(t.requisitionInformation.totalSalesAmount)+" ")])]),t._v(" "),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"12"}},[t._v(" Pev. Due ")]),t._v(" "),e("td",[t._v(" "+t._s(t.requisitionInformation.previousDue)+" ")])]),t._v(" "),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"12"}},[t._v(" Sub Total ")]),t._v(" "),e("td",[t._v(" "+t._s(t.requisitionInformation.currentTotalAmount)+" ")])]),t._v(" "),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"12"}},[t._v(" Cash Collection ")]),t._v(" "),e("td",[t._v(" "+t._s(t.requisitionInformation.currentPaidAmount)+" ")])]),t._v(" "),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"12"}},[t._v(" Bank Collection ")]),t._v(" "),e("td",[t._v(" "+t._s(t.requisitionInformation.mobileAmount)+" \n                "),e("br"),t._v("\n                "+t._s(t.requisitionInformation.receiverAccNo)+"\n                 ")])]),t._v(" "),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"12"}},[t._v(" Total Collection ")]),t._v(" "),e("td",[t._v(" "+t._s(t.requisitionInformation.currentPaidAmount+t.requisitionInformation.mobileAmount)+" ")])]),t._v(" "),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"12"}},[t._v("Customer Due ")]),t._v(" "),e("td",[t._v(" "+t._s(t.requisitionInformation.currentDue)+" ")])])],2)]),t._v(" "),e("form",{on:{submit:function(a){return a.preventDefault(),t.orderSubmit()}}},[e("button",{staticClass:"btn btn-primary float-right",attrs:{disabled:t.loading,type:"submit"}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e("span",{staticClass:"mr-2 opacity-7"},[e("i",{staticClass:"fa fa-paper-plane"})]),t._v("\n                              Approve ")])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header-tab card-header alert-info"},[a("h4",[a("i",{staticClass:"header-icon lnr-laptop-phone icon-gradient bg-premium-dark"}),this._v("\n          Sales Order view")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-info float-right mr-2",attrs:{id:"printInvoice",onclick:"jQuery('#salesReport').print()"}},[a("i",{staticClass:"fa fa-print"}),this._v(" Print\n                              ")])},function(){var t=this.$createElement,a=this._self._c||t;return a("tr",[a("td",{attrs:{colspan:"3"}},[this._v(" Market: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{rowspan:"2"}},[t._v("SL")]),t._v(" "),e("th",{attrs:{rowspan:"2"}},[t._v("Product Name")]),t._v(" "),e("th",{attrs:{rowspan:"2"}},[t._v("T.P Rate")]),t._v(" "),e("th",{attrs:{rowspan:"2"}},[t._v(" Carton or Cais ")]),t._v(" "),e("th",{staticClass:"text-center",attrs:{colspan:"4"}},[t._v(" Receive ")]),t._v(" "),e("th",{staticClass:"text-center",attrs:{colspan:"3"}},[t._v(" Return ")]),t._v(" "),e("th",{attrs:{rowspan:"2"}},[t._v(" Total Sale  ")]),t._v(" "),e("th",{attrs:{rowspan:"2"}},[t._v(" Sales Price ")])]),t._v(" "),e("tr",[e("th",[t._v("Carton")]),t._v(" "),e("th",[t._v("PCs")]),t._v(" "),e("th",[t._v("T.Qnt")]),t._v(" "),e("th",[t._v("T.Price")]),t._v(" "),e("th",[t._v("Good")]),t._v(" "),e("th",[t._v("Damaged")]),t._v(" "),e("th",[t._v("Total")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("tr",[a("td",{attrs:{colspan:"13"}},[this._v("   ")])])}],!1,null,null,null);a.default=c.exports}}]);