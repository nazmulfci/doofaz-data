(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{862:function(e,t,a){"use strict";a.r(t);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={data:function(){var e;return o(e={expenseTypeLists:[],loading:!1,expenseHeadListByIds:[],expenseHeadLists:[],getCompanyByType:[],paidDateText:"",totalAmountText:"",totalAmountRowStatus:0,expenseCompanyLists:[],datas:[],chartOfAccounts:[],expensePurposeLists:[],expenseDetailsLists:[],bankInformationStatus:0,cashInformationStatus:0,bankInformationAccountInfoStatus:0,form:new Form({rendomNumber:Math.random(1,1e3),item:"",itemAmount:"",expenseHead:"",expenseType:"",expenseAmount:"",expenseCompany:"",expensePurpous:"",mobileNo:"",type:"",companyId:"",email:"",address:"",note:"",lastBalance:"",cashAmount:"",bankAmount:"",dueAmount:"",branchName:"",accNo:"",paymentType:"",bankTypeEntryId:"",bankEntryId:"",bankAccountId:"",detailsTotalAmount:""}),companyLists:[],showBankNames:[],shopBankAllDatas:[],corporateBankAccountTypes:[],mobileBankAccountTypes:[],paymentTypeLists:[],showBankTypeDatas:[]},"showBankNames",[]),o(e,"showBankAccounts",[]),o(e,"bankMoreInfo",[]),o(e,"expensePurposeListViews",[]),o(e,"invalid",!1),e},mounted:function(){this.getData(),this.expenseTypeList(),this.expenseCompanyList(),this.getexpenseHeadList(),this.chartOfAccount(),this.expensePurposeListViews()},methods:{create:function(){var e=this;this.loading=!0,this.form.post("/addBillPaymentReceive").then((function(t){e.loading=!1,Toast.fire({icon:"success",title:"Entry Successfully"}),e.form.reset(),e.form.rendomNumber=Math.random(1,1e3),e.getData(),e.getExpenseDetailsList(0)})).catch((function(t){e.loading=!1,Toast.fire({icon:"error",title:"Something Missing"})}))},calculate:function(e){e.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.form.amount?this.invalid=!1:(this.invalid=!0,this.form.amount="")},calculateAmount:function(e){this.form.dueAmount=this.form.expenseAmount-(this.form.cashAmount+this.form.bankAmount)},getCompanyByTypes:function(){var e=this;axios.get("getIncomeExpenseCompanyByIEType/"+this.form.type).then((function(t){e.companyLists=t.data.data}))},bankTypeIdCatch:function(){var e=this;axios.get("/bankNameList/"+this.form.bankTypeEntryId).then((function(t){e.showBankNames=t.data.show}))},bankAccountIdCatch:function(){var e=this;axios.get("/bankAccountList/"+this.form.bankEntryId).then((function(t){e.showBankAccounts=t.data.data}))},getBankMoreInfo:function(){var e=this;axios.get("/bankAccountMoreInfo/"+this.form.bankAccountId).then((function(t){e.bankInformationAccountInfoStatus=1,e.form.branchName=t.data.data.bankBranch,e.form.accNo=t.data.data.bankAccountNumber}))},paymentReceiveType:function(){2==this.form.paymentType?(this.bankInformationStatus=1,this.cashInformationStatus=0):1==this.form.paymentType?(this.cashInformationStatus=1,this.bankInformationStatus=0):(this.cashInformationStatus=0,this.bankInformationStatus=0)},expenseTypeList:function(){var e=this;axios.get("expenseTypeList").then((function(t){e.expenseTypeLists=t.data.data}))},getData:function(){var e=this;axios.get("/bankTypeEntryList").then((function(t){e.showBankTypeDatas=t.data.show})),axios.get("/paymentTypeList").then((function(t){e.paymentTypeLists=t.data.data})),axios.get("/addExpense").then((function(t){e.datas=t.data.data}))},expenseCompanyList:function(){var e=this;axios.get("/addIncomeExpenseCompany").then((function(t){e.expenseCompanyLists=t.data.data}))},expensePurposeList:function(){var e=this;axios.get("/getExpensePurposeListById/"+this.form.expenseHead).then((function(t){e.expensePurposeLists=t.data.data}))},expensePurposeListViews:function(){var e=this;axios.get("/addExpenseProvider/").then((function(t){e.expensePurposeListViews=t.data.data}))},getAmount:function(){this.form.lastBalance-this.form.amount>=0?this.form.dueAmount=this.form.lastBalance-this.form.amount:(this.form.dueAmount=0,this.form.amount=this.form.lastBalance)},getDetailsData:function(){this.getExpenseDetailsList(this.form.expensePurpous)},getExpenseDetailsList:function(e){var t=this;axios.get("/getExpenseDetailsListById/"+e).then((function(e){t.expenseDetailsLists=e.data.data,t.form.expenseAmount=e.data.totalAmount,t.form.dueAmount=e.data.totalAmount,t.totalAmountText=e.data.totalAmount,t.totalAmountRowStatus=e.data.totalAmount}))},expenseItemAdd:function(e){var t=this;this.form.item&&this.form.itemAmount?axios.get("/addExpenseDetailsItem/"+this.form.rendomNumber+"/"+this.form.expensePurpous+"/"+this.form.item+"/"+this.form.itemAmount).then((function(e){e.data.status?(Toast.fire({icon:"success",title:"Item Add Successfull"}),t.form.item="",t.form.itemAmount="",t.getExpenseDetailsList(t.form.expensePurpous)):Toast.fire({icon:"error",title:"Item Not Add"})})):1==e&&Toast.fire({icon:"error",title:"Please enter your item and value"})},deleteExpenseDetailItem:function(e){var t=this;axios.get("/deleteExpenseDetailsItem/"+e).then((function(e){e.data.status?(Toast.fire({icon:"success",title:"Item Delete Successfull"}),t.form.item="",t.form.itemAmount="",t.getExpenseDetailsList(t.form.expensePurpous)):Toast.fire({icon:"error",title:"Item Not Delete"})}))},chartOfAccount:function(){var e=this;axios.get("/chartOfAccount").then((function(t){e.chartOfAccounts=t.data.chartOfAccounts}))},getexpenseHead:function(){var e=this;axios.get("/getExpenseHeadList/"+this.form.expenseType).then((function(t){e.expenseHeadListByIds=t.data.data}))},getexpenseHeadList:function(){var e=this;axios.get("/addexpenseType/").then((function(t){e.expenseHeadLists=t.data.data}))},getIncomeExpenseCompanyInfo:function(){var e=this;axios.get("getIncomeExpenseCompanyFrom/"+this.form.companyId).then((function(t){e.form.mobileNo=t.data.data.mobileNo,e.form.email=t.data.data.email,e.form.address=t.data.data.address})),axios.get("getIncomeExpenseCompanyLastBalance/"+this.form.companyId).then((function(t){e.form.lastBalance=t.data.balance}))},deleteData:function(e){var t=this;axios.delete("/addExpense/"+e).then((function(e){Toast.fire({icon:"success",title:"Delete Successfull"}),t.getData()}))}}},s=a(0),r=Object(s.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"supplier-entry py-4 px-2"},[a("div",{staticClass:"col-lg-7 px-lg-5 col-sm-8 offset-sm-2 col-12  supplier-border"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.create()}}},[a("div",{staticClass:"form-group"},[a("label",[e._v(" Type  ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rendomNumber,expression:"form.rendomNumber"}],attrs:{type:"hidden"},domProps:{value:e.form.rendomNumber},on:{input:function(t){t.target.composing||e.$set(e.form,"rendomNumber",t.target.value)}}}),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("type")},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"type",t.target.multiple?a:a[0])},function(t){return e.getCompanyByTypes()}]}},[a("option",{attrs:{value:""}},[e._v(" Select ")]),e._v(" "),a("option",{attrs:{value:"1"}},[e._v(" Bill Pay ")]),e._v(" "),a("option",{attrs:{value:"2"}},[e._v(" Bill Receive ")])]),e._v(" "),a("has-error",{attrs:{form:e.form,field:"type"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" From ")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.companyId,expression:"form.companyId"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("companyId")},attrs:{type:"text",name:"companyId"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"companyId",t.target.multiple?a:a[0])},function(t){return e.getIncomeExpenseCompanyInfo()}]}},[a("option",{attrs:{value:""}},[e._v("Select One")]),e._v(" "),e._l(e.companyLists,(function(t){return a("option",{domProps:{value:t.id}},[e._v(" \n                     "+e._s(t.companyName)+" \n\n                     ")])}))],2),e._v(" "),a("has-error",{attrs:{form:e.form,field:"companyId"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Mobile No ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mobileNo,expression:"form.mobileNo"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("mobileNo")},attrs:{type:"text",readonly:"",name:"mobileNo"},domProps:{value:e.form.mobileNo},on:{input:function(t){t.target.composing||e.$set(e.form,"mobileNo",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"mobileNo"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Email ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("email")},attrs:{type:"text",readonly:"",name:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"email"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Address ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("address")},attrs:{type:"text",readonly:"",name:"address"},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"address"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Balance ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lastBalance,expression:"form.lastBalance"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("lastBalance")},attrs:{type:"text",readonly:"",name:"lastBalance"},domProps:{value:e.form.lastBalance},on:{input:function(t){t.target.composing||e.$set(e.form,"lastBalance",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"lastBalance"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v("  Amount ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.amount,expression:"form.amount"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("amount")},attrs:{type:"text",name:"amount",min:"0"},domProps:{value:e.form.amount},on:{change:function(t){return e.getAmount()},keyup:e.calculate,input:function(t){t.target.composing||e.$set(e.form,"amount",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"amount"}}),e._v(" "),e.invalid?a("span",{staticStyle:{color:"red"}},[e._v("Negative And Character Value Not Allowed")]):e._e()],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Payment  Type ")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.paymentType,expression:"form.paymentType"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("paymentType")},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"paymentType",t.target.multiple?a:a[0])},function(t){return e.paymentReceiveType()}]}},[a("option",{attrs:{value:""}},[e._v(" Select Payment Type ")]),e._v(" "),e._l(e.paymentTypeLists,(function(t){return t.id<3?a("option",{domProps:{value:t.id}},[e._v(" "+e._s(t.paymentType))]):e._e()}))],2),e._v(" "),a("has-error",{attrs:{form:e.form,field:"paymentType"}})],1),e._v(" "),e.cashInformationStatus?a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(" Person Name ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.personName,expression:"form.personName"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("personName")},attrs:{type:"text",name:"personName"},domProps:{value:e.form.personName},on:{input:function(t){t.target.composing||e.$set(e.form,"personName",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"personName"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Person Mobile No")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.personMobileNo,expression:"form.personMobileNo"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("personMobileNo")},attrs:{type:"text",name:"personMobileNo"},domProps:{value:e.form.personMobileNo},on:{input:function(t){t.target.composing||e.$set(e.form,"personMobileNo",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"personMobileNo"}})],1)]):e._e(),e._v(" "),e.bankInformationStatus?a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v("Bank Type Name")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.bankTypeEntryId,expression:"form.bankTypeEntryId"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("bankTypeEntryId")},attrs:{name:"bankTypeEntryId"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"bankTypeEntryId",t.target.multiple?a:a[0])},function(t){return t.preventDefault(),e.bankTypeIdCatch()}]}},[a("option",{attrs:{value:""}},[e._v("Select One")]),e._v(" "),e._l(e.showBankTypeDatas,(function(t){return a("option",{domProps:{value:t.bankTypeEntryId}},[e._v(" \n                     "+e._s(t.bankTypeEntryName))])}))],2),e._v(" "),a("has-error",{attrs:{form:e.form,field:"bankTypeEntryId"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v("Bank Name")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.bankEntryId,expression:"form.bankEntryId"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("bankEntryId")},attrs:{name:"bankEntryId"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"bankEntryId",t.target.multiple?a:a[0])},function(t){return t.preventDefault(),e.bankAccountIdCatch()}]}},[a("option",{attrs:{value:""}},[e._v("Select Bank Name")]),e._v(" "),e._l(e.showBankNames,(function(t){return a("option",{domProps:{value:t.bankEntryId}},[e._v(" "+e._s(t.bankName))])}))],2),e._v(" "),a("has-error",{attrs:{form:e.form,field:"bankEntryId"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Account No")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.bankAccountId,expression:"form.bankAccountId"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("bankAccountId")},attrs:{name:"bankAccountId"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"bankAccountId",t.target.multiple?a:a[0])},function(t){return e.getBankMoreInfo()}]}},[a("option",{attrs:{value:""}},[e._v("Select Bank Account")]),e._v(" "),e._l(e.showBankAccounts,(function(t){return a("option",{domProps:{value:t.bankId}},[t.bankAccountName?a("span",[e._v("\n                      "+e._s(t.bankAccountName)+" ")]):a("span",[e._v("\n                      "+e._s(t.bankAccountNumber)+" ")])])}))],2),e._v(" "),a("has-error",{attrs:{form:e.form,field:"bankAccountId"}})],1),e._v(" "),e.bankInformationAccountInfoStatus?a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(" Branch Name ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.branchName,expression:"form.branchName"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.form.branchName},on:{input:function(t){t.target.composing||e.$set(e.form,"branchName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Account No ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.accNo,expression:"form.accNo"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.form.accNo},on:{input:function(t){t.target.composing||e.$set(e.form,"accNo",t.target.value)}}})])]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Due Amount ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.dueAmount,expression:"form.dueAmount"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("dueAmount")},attrs:{type:"number",readonly:"",name:"dueAmount"},domProps:{value:e.form.dueAmount},on:{input:function(t){t.target.composing||e.$set(e.form,"dueAmount",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"dueAmount"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(" Note ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.note,expression:"form.note"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("note")},attrs:{type:"text",name:"note"},domProps:{value:e.form.note},on:{input:function(t){t.target.composing||e.$set(e.form,"note",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"note"}})],1),e._v(" "),a("div",{staticClass:"text-right pt-3"},[a("button",{staticClass:"mr-2 btn-pill btn-hover-shine btn btn-primary",attrs:{type:"submit",disabled:e.loading}},[e.loading?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):a("span",{staticClass:"mr-2 opacity-7"},[a("i",{staticClass:"fa fa-paper-plane"})]),e._v("Submit")])])])])])]),e._v(" "),a("div",{staticClass:"card main-card  element-block-example mt-5"},[e._m(1),e._v(" "),a("div",{staticClass:"table-responsive bg-white"},[a("table",{staticClass:"table table-hover table-bordered mb-0"},[e._m(2),e._v(" "),a("tbody",e._l(e.datas,(function(t,o){return a("tr",[a("td",[e._v(e._s(o+1))]),e._v(" "),a("td",e._l(e.expensePurposeListViews,(function(o){return t.expenseHead==o.type?a("span",{attrs:{value:o.id}},[e._v(" \n                     "+e._s(o.expensePurpous)+" \n                 ")]):e._e()})),0),e._v(" "),a("td",e._l(e.expenseCompanyLists,(function(o){return t.expensePurpous==o.type?a("span",{attrs:{value:o.id}},[e._v("\n                     "+e._s(o.companyName)+" \n                     "),a("br"),e._v("\n                     "+e._s(o.mobileNo)+" \n                 ")]):e._e()})),0),e._v(" "),a("td",[e._v(" "+e._s(t.expenseTitle)+" ")]),e._v(" "),a("td",[e._v(" "+e._s(t.expenseAmount)+" ")]),e._v(" "),a("td",[e._v(" "+e._s(t.dueAmount)+" ")]),e._v(" "),a("td",[e._v(" "+e._s(t.note)+" ")]),e._v(" "),a("td",[a("router-link",{staticClass:"btn-wide btn-pill btn btn-outline-primary btn-hover-shine",attrs:{to:"/expenseInvoiceView"+t.id}},[a("i",{staticClass:" fa fa-eye mr-1"}),e._v(" View")])],1)])})),0)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header",staticStyle:{background:"rgba(221, 221, 221, 0.20)",border:"1px solid rgba(0, 0, 0, 0.05)"}},[t("h3",{staticStyle:{color:"black"}},[this._v(" Bill Pay & Receive ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header",staticStyle:{background:"rgba(221, 221, 221, 0.20)",border:"1px solid rgba(0, 0, 0, 0.05)"}},[t("h3",{staticStyle:{color:"black"}},[this._v("Expense List")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",{staticStyle:{background:"rgba(242, 242, 242, 0.47)"}},[a("th",[e._v(" SN")]),e._v(" "),a("th",[e._v("  Expense Purpose  ")]),e._v(" "),a("th",[e._v(" Person / Company")]),e._v(" "),a("th",[e._v(" Title ")]),e._v(" "),a("th",[e._v(" Amount ")]),e._v(" "),a("th",[e._v(" Due ")]),e._v(" "),a("th",[e._v(" Note ")]),e._v(" "),a("th",[e._v(" Delete ")])])])}],!1,null,null,null);t.default=r.exports}}]);