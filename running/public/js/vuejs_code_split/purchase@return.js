(window.webpackJsonp=window.webpackJsonp||[]).push([[360],{582:function(t,i,a){"use strict";a.r(i);var s={data:function(){return{form:new Form({purchaseReturnDate:"",purchaseInvoiceNo:"",purchaseSupplier:"",grandTotal:"",invoiceDiscount:"",supplierPayable:"",totalProductCost:"",currentPayable:""}),invoiceNo:"",formStatus:!1,invoiceYesStatus:!1,invoiceNoStatus:!1,invoiceLoadingStatus:!1,purchaseInvoiceReports:{},gets:"",invoiceInfo:"",allProductBrandLists:[],invoiceProductLists:[],purchaseProductList:[],productBrandLists:[],purchaseTypes:[],unitLists:[],countryLists:[],supplierInfo:"",colorLists:{},sizeLists:{}}},props:{limit:{type:Number,default:2}},mounted:function(){this.colorList(),this.sizeList(),this.getInvoiceSetupInformation(),this.productBrandList()},methods:{returnSubmit:function(){var t=this;$(".sbtnd").show(),$(".sbtn").hide(),this.form.post("/returnPurchase").then((function(i){i.data.data?(t.invoiceNo="",t.invoiceYesStatus=!1,t.invoiceNoStatus=!1,t.invoiceLoadingStatus=!1,Toast.fire({icon:"success",title:"Return Invoice Create Successful."})):(Toast.fire({icon:"error",title:"Something Missing."}),$(".sbtnd").hide(),$(".sbtn").show())})).catch((function(t){Toast.fire({icon:"error",title:"Something wrong"}),$(".sbtnd").hide(),$(".sbtn").show()}))},checkStock:function(t){var i=parseFloat($("#unitId-"+t).val());$("#newQuantity-"+t).attr("placeholder","stock=0"),axios.get("/purchaseReturnCheckQuantity/"+t+"/"+i).then((function(i){$("#newQuantity-"+t).attr("placeholder","stock="+i.data.stock),$("#newQuantity1-"+t).val(i.data.stock)}))},productReturn:function(t){var i=this;$("#btnd-"+t).show(),$("#btn-"+t).hide();var a=parseFloat($("#newQuantity-"+t).val()),s=parseFloat($("#unitId-"+t).val()),e=parseFloat($("#newQuantity1-"+t).val());a>e?(Toast.fire({icon:"error",title:"Invalid Return Quantity."}),$("#btnd-"+t).hide(),$("#btn-"+t).show()):a>0?axios.get("/purchaseProductReturnEntry/"+t+"/"+a+"/"+s).then((function(s){1==s.data.status&&($("#td-"+t).html(a+" "+s.data.unitName),$("#unitPrice-"+t).html(s.data.unitPrice),$("#totalPrice-"+t).html(s.data.totalPrice),$("#discountAmount-"+t).html(s.data.discountAmount),$("#totalWithDiscount-"+t).html(s.data.totalWithDiscount),$("#grandTotal").html(s.data.grandTotal),$("#invoiceDiscount").html(s.data.invoiceDiscount),$("#totalProductCost").html(s.data.totalProductCost),$("#supplierPayable").html(s.data.supplierPayable),$("#currentPayable").html(s.data.currentPayable),i.form.purchaseReturnDate=s.data.purchaseReturnDate,i.form.purchaseInvoiceNo=s.data.purchaseInvoiceNo,i.form.grandTotal=s.data.grandTotal,i.form.invoiceDiscount=s.data.invoiceDiscount,i.form.supplierPayable=s.data.supplierPayable,i.form.totalProductCost=s.data.totalProductCost,i.form.currentPayable=s.data.currentPayable,i.formStatus=!0)})).catch((function(a){i.loading=!1,Toast.fire({icon:"error",title:"Something wrong"}),$("#btnd-"+t).hide(),$("#btn-"+t).show()})):(Toast.fire({icon:"error",title:"Invalid Return Quantity."}),$("#btnd-"+t).hide(),$("#btn-"+t).show())},colorList:function(){var t=this;axios.get("/colorListAll").then((function(i){t.colorLists=i.data.colorList}))},sizeList:function(){var t=this;axios.get("/sizeListAll").then((function(i){t.sizeLists=i.data.sizeList}))},productSupplierList:function(){var t=this;axios.get("/purchaseInvoiceReport").then((function(i){t.purchaseInvoiceReports=i.data.purchaseInvoiceReports}))},productBrandList:function(){var t=this;axios.get("/productBrandList").then((function(i){t.allProductBrandLists=i.data.productBrandList}))},getInvoiceSetupInformation:function(){var t=this;axios.get("getInvoiceSetupInformation/2").then((function(i){t.gets=i.data.data}))},searchInvoice:function(){var t=this;$(".unitId").val(""),$(".newQuantity").attr("placeholder",""),$(".searchBtn").hide(),$(".searchBtnLoading").show(),$(".newQuantity").val("");var i="searchPurchaseInvoice/"+this.invoiceNo;axios.get(i).then((function(i){i.data.invoiceId>0?(t.invoiceYesStatus=!1,t.invoiceNoStatus=!1,t.invoiceLoadingStatus=!0,t.viewInvoiceInfo(i.data.invoiceId)):(t.invoiceLoadingStatus=!1,t.invoiceYesStatus=!1,t.invoiceNoStatus=!0,$(".searchBtn").show(),$(".searchBtnLoading").hide())}))},viewInvoiceInfo:function(t){var i=this,a="getInvoiceInfoPurchaseReturn/"+t;axios.get(a).then((function(t){i.unitLists=t.data.unitList,i.countryLists=t.data.countryList,i.purchaseTypes=t.data.purchaseType,i.productBrandLists=t.data.productBrandList,i.supplier_id=t.data.data.productSupplierId,i.form.purchaseSupplier=t.data.data.productSupplierId,i.invoiceInfo=t.data.data,i.invoiceProductLists=t.data.invoiceProductLists,t.data.supplierInfo&&(i.supplierInfo=t.data.supplierInfo),i.purchaseProductList=t.data.purchaseProductList,i.invoiceLoadingStatus=!1,i.invoiceYesStatus=!0})),$(".searchBtn").show(),$(".searchBtnLoading").hide()}}},e=a(0),n=Object(e.a)(s,(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("span",[a("div",{staticClass:"card main-card element-block-example"},[t._m(0),t._v(" "),a("div",{staticClass:"supplier-entry py-1 px-1"},[a("div",{staticClass:"card-body table-responsive bg-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),t._v(" "),a("div",{staticClass:"col"},[a("table",{staticClass:"table table-bordered"},[a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceNo,expression:"invoiceNo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Invoice No"},domProps:{value:t.invoiceNo},on:{input:function(i){i.target.composing||(t.invoiceNo=i.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-danger searchBtnLoading",staticStyle:{display:"none"},attrs:{type:"button"}},[t._v(" Search ")]),t._v(" "),a("button",{staticClass:"btn btn-primary searchBtn",attrs:{type:"button","data-toggle":"modal","data-target":"#purchaseId"},on:{click:function(i){return t.searchInvoice()}}},[t._v(" Search ")])])])])]),t._v(" "),a("div",{staticClass:"col"})]),t._v(" "),t.invoiceLoadingStatus?a("h1",{staticClass:"text-center text-danger"},[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t._v(" "),t.invoiceNoStatus?a("h4",{staticClass:"text-center text-danger"},[t._v(" Result Not Found ")]):t._e(),t._v(" "),t.invoiceYesStatus?a("div",{staticClass:"modal-body"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-0"},[a("div",{staticStyle:{"padding-left":"0px !important","padding-right":"0px !important","padding-top":"0px !important"},attrs:{id:"invoice"}},[a("div",{staticClass:"invoice overflow-auto"},[a("div",{staticStyle:{"min-width":"600px"}},[a("main",[a("div",{staticClass:"row contacts"},[a("div",{staticClass:"col invoice-to"},[t._m(1),t._v(" "),a("div",{staticClass:"address"},[t._v("\n                                      "+t._s(t.supplierInfo.productSupplierName)+"\n                                    ")]),t._v(" "),a("div",{staticClass:"address"},[t._v("\n                                      "+t._s(t.supplierInfo.productSupplierAddress)+"\n                                    ")]),t._v(" "),a("div",{staticClass:"email"},[a("a",{style:"color:"+t.gets.themeColor,attrs:{href:"mailto:"+t.supplierInfo.productSupplierMail}},[t._v("\n                                        "+t._s(t.supplierInfo.productSupplierMail))])])]),t._v(" "),a("div",{staticClass:"col invoice-details"},[a("h4",{staticClass:"text-center invoice-id",style:"color:"+t.gets.themeColor},[a("u",[t._v(" "+t._s(t.gets.toText)+" ")])])]),t._v(" "),a("div",{staticClass:"col invoice-details"},[a("div",{staticClass:"date"},[t._v("\n                                      "+t._s(t.gets.toText)+":\n                                      "+t._s(t.invoiceInfo.purchaseInvoiceNo)+"\n                                    ")]),t._v(" "),a("div",{staticClass:"date"},[t._v("\n                                      Purchase Date:\n                                      "+t._s(t.invoiceInfo.purchaseDate)+"\n                                    ")])])]),t._v(" "),a("table",{staticClass:"table table-bordered border-0",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[t._m(2),t._v(" "),a("tbody",t._l(t.invoiceProductLists,(function(i,s){return a("tr",[a("td",[t._v(t._s(++s))]),t._v(" "),a("td",{staticClass:"text-left"},t._l(t.purchaseProductList,(function(s){return s.productNameId==i.productId?a("span",[t._v("\n                                          "+t._s(s.productName)+"\n                                        ")]):t._e()})),0),t._v(" "),a("td",t._l(t.allProductBrandLists,(function(s){return s.productBrandEntryId==i.brandId?a("span",[t._v("\n                                            "+t._s(s.productBrandName)+"\n                                        ")]):t._e()})),0),t._v(" "),a("td",[t._l(t.purchaseTypes,(function(s){return s.id==i.purchaseType?a("span",{key:s.id},[t._v("\n                                          "+t._s(s.purchaseType)+"\n                                        ")]):t._e()})),t._v(" "),t._l(t.countryLists,(function(s){return s.id==i.countryId?a("span",{key:s.id},[a("br"),t._v("\n                                          ("+t._s(s.name)+")\n                                        ")]):t._e()}))],2),t._v(" "),a("td",[t._l(t.colorLists,(function(s){return s.id==i.colorId?a("span",[t._v(t._s(s.colorName))]):t._e()})),t._v(" "),t._l(t.sizeLists,(function(s){return s.id==i.sizeId?a("span",[t._v("/ "+t._s(s.sizeName))]):t._e()}))],2),t._v(" "),a("td",{},[t._v("\n                                        "+t._s(i.quantity)+" \n                                         "),t._l(t.unitLists,(function(s){return s.uniteEntryId==i.unitId?a("span",{key:s.uniteEntryId},[t._v("\n                                          "+t._s(s.uniteEntryName)+"\n                                        ")]):t._e()})),t._v(" "),a("input",{attrs:{type:"hidden",id:"quantity-"+i.id},domProps:{value:i.quantity}}),t._v(" "),a("input",{attrs:{type:"hidden",id:"stock-"+i.id},domProps:{value:i.stock}})],2),t._v(" "),a("td",{attrs:{id:"td-"+i.id}},[a("table",[a("tr",[a("td",[a("select",{staticClass:"form-control unitId",attrs:{id:"unitId-"+i.id},on:{change:function(a){return t.checkStock(i.id)}}},[a("option",{attrs:{value:""}},[t._v(" ----- ")]),t._v(" "),t._l(i.singleUnitList,(function(i){return a("option",{domProps:{value:i.unitId}},t._l(t.unitLists,(function(s){return s.uniteEntryId==i.unitId?a("span",[t._v(" "+t._s(s.uniteEntryName))]):t._e()})),0)}))],2)]),t._v(" "),a("td",[a("input",{attrs:{type:"hidden",id:"newQuantity1-"+i.id}}),t._v(" "),a("input",{staticClass:"form-control newQuantity",attrs:{type:"number",id:"newQuantity-"+i.id,min:"1",step:"0.01"}}),t._v(" "),a("input",{attrs:{type:"hidden",id:"returnable-"+i.id},domProps:{value:i.returnable}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-danger",staticStyle:{display:"none"},attrs:{id:"btnd-"+i.id}},[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{id:"btn-"+i.id},on:{click:function(a){return t.productReturn(i.id)}}},[t._v(" Return ")])])])])]),t._v(" "),a("td",{},[a("span",{attrs:{id:"unitPrice-"+i.id}},[t._v("\n                                        "+t._s(i.unitPrice)+"\n                                        "),a("input",{attrs:{type:"hidden",id:"unit-"+i.id},domProps:{value:i.unitPrice}})])]),t._v(" "),a("td",{},[a("span",{attrs:{id:"totalPrice-"+i.id}},[t._v(t._s(i.totalPrice)+" ")])]),t._v(" "),a("td",{},[a("span",{attrs:{id:"discountAmount-"+i.id}},[t._v(t._s(i.discount))]),t._v("% \n                                      ")]),t._v(" "),a("td",{},[a("span",{attrs:{id:"totalWithDiscount-"+i.id}},[t._v(t._s(i.totalWithDiscount)+" ")])])])})),0),t._v(" "),a("tr",[t._m(3),t._v(" "),a("td",{staticClass:"border-0"},[a("b",{attrs:{id:"grandTotal"}},[t._v(t._s(t.invoiceInfo.totalPurchaseValue))])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),t._v(" "),a("div",{staticClass:"col"}),t._v(" "),a("div",{staticClass:"col"},[a("table",{staticClass:"table table-bordered"},[a("tbody",[a("tr",[a("td",{staticClass:"text-right"},[t._v("Discount")]),t._v(" "),a("td",{staticClass:"bg-light",attrs:{id:"invoiceDiscount"}},[t._v("\n                                            "+t._s(t.invoiceInfo.discount)+"\n                                          ")])]),t._v(" "),a("tr",[a("td",{staticClass:"text-right"},[t._v("\n                                            Supplier Payable\n                                          ")]),t._v(" "),a("td",{staticClass:"bg-light",attrs:{id:"supplierPayable"}},[t._v("\n                                            "+t._s(t.invoiceInfo.supplierPayable)+"\n                                          ")])]),t._v(" "),a("tr",[a("td",{staticClass:"text-right"},[t._v("\n                                            Total Product Cost\n                                          ")]),t._v(" "),a("td",{attrs:{id:"totalProductCost"}},[t._v("\n                                            "+t._s(t.invoiceInfo.totalProductCost)+"\n                                          ")])]),t._v(" "),a("tr"),t._v(" "),a("tr",[a("td",{staticClass:"text-right"},[t._v("\n                                            Current Payable\n                                          ")]),t._v(" "),a("td",{staticClass:"bg-light",attrs:{id:"currentPayable"}},[t._v("\n                                            "+t._s(t.invoiceInfo.currentPayable)+"\n                                          ")])])])])])]),t._v(" "),t.formStatus?a("form",{attrs:{action:""},on:{submit:function(i){return i.preventDefault(),t.returnSubmit()}}},[t._m(4),t._v(" "),a("button",{staticClass:"btn btn-primary float-right sbtn",attrs:{type:"submit"}},[t._v(" Submit ")])]):t._e()])]),t._v(" "),a("div")])])])])]):t._e()])])])])}),[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"card-header-tab card-header alert-info"},[i("div",{staticClass:"card-header-title font-size-lg text-capitalize font-weight-normal"},[i("i",{staticClass:"header-icon lnr-pencil icon-gradient bg-premium-dark"}),this._v(" "),i("h4",[this._v(" Purchase Return ")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"text-gray-light"},[i("u",[i("b",[this._v(" Supplier Information :")])])])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Name")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(" Brand")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(" Type")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Color/Size")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Quantity")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Return Qnt")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("UNIT PRICE")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("TOTAL PRICE")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("OFF")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("TOTAL")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("td",{staticClass:"text-right border-0",attrs:{colspan:"10"}},[i("b",[this._v(" Grand Total : ")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"btn btn-danger float-right sbtnd",staticStyle:{display:"none"},attrs:{type:"button"}},[i("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})])}],!1,null,null,null);i.default=n.exports}}]);